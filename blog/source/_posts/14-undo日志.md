---
title: 14.undo日志
date: 2023-05-27 14:23:03
tags: [MySQL,MySQL是怎样运行的]
categories: 数据库
---

## 事务id
- 对于只读事务来说，只有在它第一次对某个用户创建的临时表执行增、删、改操作时才会为这个事务分配一个事务id
- 对于读写事务来说，只有在它第一次对某个表（包括用户创建的临时表）执行增、删、改操作时才会为这个事务分配一个事务id

聚簇索引的记录还会自动添加名为trx_id、roll_pointer的隐藏列
其中trx_id就是对这个聚簇索引记录做改动的语句所在的事务对应的事务id
roll_pointer就是一个指向记录对应的undo日志的一个指针